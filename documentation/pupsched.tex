\documentclass[12pt,letterpaper]{article}

% ====== PACKAGES ======
\usepackage{fontspec}
\usepackage[english]{babel}
\usepackage{setspace}
\usepackage{xcolor}
\usepackage{geometry}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{titlesec}
\usepackage{caption}
\usepackage{fancyhdr}
\usepackage{tocloft}
\usepackage{array}     
\usepackage[table]{xcolor} 
\usepackage[most]{tcolorbox}
\usepackage{fontawesome5} % for icons

\tcbset{
  githubnote/.style={
    enhanced,
    colback=blue!5,          % soft background
    colframe=blue!40,        % border color
    boxrule=0.8pt,
    arc=4pt,                 % rounded corners
    boxsep=8pt,              % internal padding
    left=10pt, right=10pt,   % horizontal padding
    top=8pt, bottom=8pt,     % vertical padding
    fontupper=\sffamily,     % sans-serif text
    overlay unbroken={%
      % Icon positioned nicely in the top-left
      \node[anchor=north west, text=blue!60!black, font=\Large] 
      at ([xshift=13pt,yshift=-8pt]frame.north west) {\faInfoCircle};
    },
    before upper={%
      % Make space so text doesnâ€™t overlap the icon
      \hspace*{1.9em}%
      \textbf{Note} \\[5pt]
    },
  }
}



% ====== FONTS ======
\setmainfont[
  Path = font/Newsreader/static/,
  UprightFont = *_24pt-Regular.ttf,
  ItalicFont  = *_24pt-Italic.ttf,
  BoldFont    = *_24pt-Bold.ttf,
  BoldItalicFont = *_24pt-BoldItalic.ttf
]{Newsreader}

\setsansfont[
  Path = font/Manrope/static/,
  UprightFont = *-Regular.ttf,
  BoldFont    = *-Bold.ttf,
  ItalicFont  = *-Medium.ttf, 
  BoldItalicFont = *-SemiBold.ttf
]{Manrope}

\setmonofont[
  Path = font/JetBrains_Mono/static/,
  UprightFont = *-Regular.ttf,
  ItalicFont  = *-Italic.ttf,
  BoldFont    = *-Bold.ttf,
  BoldItalicFont = *-BoldItalic.ttf
]{JetBrainsMono}



% ====== PAGE GEOMETRY ======
\usepackage{geometry}
\geometry{
  top=1in,
  bottom=1.8in,
  left=1in,
  right=1in,
  headsep=20pt,
  footskip=50pt
}

% ====== FIX FANCYHDR WARNING ======
\setlength{\headheight}{20pt}  % must be AFTER geometry
\addtolength{\topmargin}{-1pt}  % optional fine-tuning


% ====== COLORS ======
\definecolor{pupred}{HTML}{A72121}
\definecolor{darkgray}{gray}{0.3}

% ====== LINE SPACING ======
\onehalfspacing



% Optional: spacing tweaks
\setlength{\cftbeforesecskip}{6pt} % spacing between entries
\setlength{\cftaftertoctitleskip}{1cm} % spacing after "Table of Contents" title



% ====== HEADER & FOOTER ======
\pagestyle{fancy}
\fancyhf{}

% Header
\fancyhead[L]{\raisebox{5pt}{\includegraphics[height=15pt]{assets/pupsched_header.png}}}
\fancyhead[R]{\raisebox{5pt}{\textcolor{darkgray}{\small v1.0}}}
\renewcommand{\headrulewidth}{0.4pt}

% Footer
\fancyfoot[L]{%
  \raisebox{-10pt}{% adjust this value to move up/down
    \parbox[t]{0.5\textwidth}{%
      {\small  Polytechnic University of the Philippines}\\
      {\small  Software Technical Documentation}
    }%
  }%
}
\fancyfoot[R]{\raisebox{-10pt}{{\small \sffamily \textcolor{darkgray}{\thepage}}}}
\renewcommand{\footrulewidth}{0.4pt}



% Geometry adjustments
\setlength{\headsep}{35pt}  % distance from header rule to text
\setlength{\footskip}{30pt}  % distance from footer rule to text



% ====== SECTION FORMATTING ======
\setcounter{secnumdepth}{0}

\titleformat{\section}
  {\large\bfseries\color{pupred}\sffamily}{}{0pt}{}

\titleformat{\subsection}
  {\normalsize\bfseries\color{darkgray}\sffamily}{}{0pt}{}

\titlespacing*{\section}{0pt}{1.5ex plus 1ex minus .2ex}{0.8ex}
\titlespacing*{\subsection}{0pt}{1ex plus .2ex}{0.5ex}


% ====== LISTINGS ======
\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, switch,
    var, if, in, while, do, else, case, break, const, let},
  keywordstyle=\color{pupred}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{blue}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{darkgray}\itshape,
  stringstyle=\color{blue},
  morestring=[b]',
  morestring=[b]"
}

\lstset{
  language=JavaScript,
  basicstyle=\ttfamily\small,
  rulecolor=\color{gray!50},
  frame=single,
  showstringspaces=false,
  tabsize=2,
  breaklines=true,
  framesep=10pt,
  xleftmargin=5pt,
  xrightmargin=5pt,
  captionpos=b,
  abovecaptionskip=5pt,
  belowcaptionskip=5pt,
}
\captionsetup[lstlisting]{font={it,footnotesize}}


% ====== COVER PAGE ======
\newcommand{\coverpage}{
\begin{titlepage}
    % --- Top Section (Logo + Subtitle) ---
    \centering
    \vspace*{1cm}
    \includegraphics[width=0.6\textwidth,keepaspectratio]{assets/pupsched_logo.pdf}\\[0.5cm]
    {\large\sffamily\itshape System Technical Documentation}\\[6cm]
    
    % --- Overview (left aligned, above divider) ---
    \begin{flushleft}
        \begin{minipage}{\textwidth}
            {\sffamily\itshape\textcolor{gray}{
            This is a scheduling system designed to help the Polytechnic University of the Philippines 
            optimize and automate faculty workload assignments, ensuring efficiency and fairness in academic scheduling.}}
        \end{minipage}
    \end{flushleft}
    
    % --- Divider ---
    \vspace{1.5cm}
    \noindent\rule{\textwidth}{0.4pt}\\[1.5cm]
    
    % --- Bottom Section ---
    \begin{minipage}[t]{0.5\textwidth}
        \raggedright
        {\normalsize \textbf{Polytechnic University of the Philippines}}\\[0cm]
        {\normalsize College of Computer and Information Sciences}\\[0cm]
        {\normalsize Department of Information Technology}\\[1cm]
        
        {\normalsize Assoc. Prof. Noel Gagolinan}\\
        {\normalsize Instructor}\\[0.1cm]
    \end{minipage}
    \hfill
    \begin{minipage}[t]{0.48\textwidth}
        \raggedleft
        {\normalsize Justine Lloyd Bautista}\\
        {\normalsize Mark Jason Fulguerinas}\\
        {\normalsize Charles Ezra Ilarde}\\
        {\normalsize Regie San Juan}\\
        {\normalsize Jesse Mari Mirabel}\\
    \end{minipage}
    
    \vfill
    \centering
    {\normalsize \today}
\end{titlepage}
}




% ====== DOCUMENT BODY ======
\begin{document}


\coverpage 

\renewcommand{\contentsname}{\centering\sffamily\Large Table of Contents}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

% Section entries
\renewcommand{\cftsecfont}{\sffamily\bfseries\color{darkgray}}
\renewcommand{\cftsecpagefont}{\sffamily\bfseries\color{darkgray}}

% Subsection entries
\renewcommand{\cftsubsecfont}{\sffamily\color{gray}}
\renewcommand{\cftsubsecpagefont}{\sffamily\color{gray}}

% Subsubsection entries
\renewcommand{\cftsubsubsecfont}{\sffamily\color{lightgray}}
\renewcommand{\cftsubsubsecpagefont}{\sffamily\color{lightgray}}

% Spacing + indentation
\setlength{\cftbeforesecskip}{8pt}
\cftsetindents{section}{0em}{2.5em}    
\cftsetindents{subsection}{2em}{3em}
\cftsetindents{subsubsection}{4em}{3.5em}


\tableofcontents
\newpage


% Intro note
\begin{tcolorbox}[githubnote]
This document provides a brief technical overview of the \textbf{PupSched} project, 
a faculty scheduling system designed for ease of use and automation.
\end{tcolorbox}




\section{System Overview}

\subsection{Key Features}

\begin{tcolorbox}[
  colback=blue!1,        % soft background
  colframe=gray!40,      % border color
  boxrule=0.5pt, 
  arc=4pt,               % rounded corners
  boxsep=6pt,            % padding inside the box
  left=0pt, right=0pt, 
  top=6pt, bottom=6pt,
  fontupper=\sffamily,   % sans-serif text
  title=, 
  coltitle=blue!70!black,
  fonttitle=\sffamily\bfseries
]
\renewcommand{\arraystretch}{1.5} % row height
\begin{tabular}{>{\centering\arraybackslash}p{5cm}|>{\centering\arraybackslash}p{10cm}}
\rowcolor{gray!20} \textbf{Feature} & \textbf{Description} \\

Automated Faculty Scheduling & Automatically generates optimized schedules for faculty members based on availability and constraints. \\
Centralized Database & Stores all scheduling data in a single, structured repository for consistency and ease of access. \\
Web-based Interface & Provides a user-friendly, browser-accessible platform for administrators and faculty. \\
Notifications \& Reminders & Sends alerts for schedule updates, conflicts, or important deadlines. \\
\end{tabular}
\end{tcolorbox}



\subsection{Architecture Diagram}
\begin{center}
% \includegraphics[width=0.7\textwidth]{assets/system_architecture.png}
\end{center}

\section{Installation}
\begin{enumerate}
    \item Clone the repository
    \item Install dependencies: \texttt{npm install}
    \item Run the application: \texttt{node app.js}
\end{enumerate}

\section{Code Example}
\begin{lstlisting}[caption={Sample Node.js Code}]
const express = require('express');
const app = express();

app.get('/', (req, res) => {
  res.send('Hello PupSched!');
});

app.listen(3000, () => console.log("Server running"));
\end{lstlisting}

\section{Conclusion}
The PupSched system simplifies scheduling for faculty members and improves administrative efficiency.

\end{document}
